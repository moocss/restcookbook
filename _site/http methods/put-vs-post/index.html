<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta content='description' name='The RESTful Cookbook 是由 Joshua Thijssen 及其小伙伴编写的一本关于 RESTful 的手册。这个仓库是由 sofish 提供的中文译本。'>

        <link href='/css/blueprint/screen.css' type='text/css' rel='stylesheet' media='screen, projection'>
        <link href='/css/blueprint/print.css'  type='text/css' rel='stylesheet' media='print'>
        <link href='/css/restcookbook.css'   type='text/css' rel='stylesheet' media='screen, projection'>
        <!--[if lt IE 8]> >%link{:rel=>"stylesheet", :href=>"css/blueprint/ie.css", :type=>"text/css", :media=>"screen, projection"} <![endif]-->

        <title> When to use PUT or POST |  - RESTful 手册</title>
    </head>

    <body>
        <div><a href="https://github.com/sofish/restcookbook"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a></div>

        <div id="logostrip">
            <div class="container">
                <div class="span-24 last" id="topheader">
                    <h1><a href='/'>RESTful 手册</a></h1>
                </div>
                <div class="span-2">
                    &nbsp;
                </div>
                <div class="span-22 last" id="topsubheader">
                    <h4><em> RESTful</em></h4>
                </div>
            </div>
        </div>

        <div class='last sidebar span-10'>
            <h2>话题列表</h2>
            <ul class="topics">

                
                    <li class="topic-header"><b>http methods</b> (5)</li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/http%20methods/options/">How do I know which HTTP methods are supported</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/http%20methods/put-vs-post/">When to use PUT or POST</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/http%20methods/patch/">When to use the PATCH method</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/http%20methods/idempotency/">What are idempotent and/or safe methods?</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/http%20methods/400-vs-500/">When to send 4xx or 5xx codes</a></li>
                        </ul>
                    </li>
                    
                
                    <li class="topic-header"><b>basics</b> (5)</li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/basics/loggingin/">How do I let users log into my RESTful API?</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/basics/caching/">Caching your REST API</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/basics/versioning/">How do I version my REST API?</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/basics/hateoas/">What is HATEOAS and why is it important?</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/basics/codeondemand/">What is the code-on-demand constraint?</a></li>
                        </ul>
                    </li>
                    
                
                    <li class="topic-header"><b>resources</b> (4)</li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/resources/using-custom-content-types/">Custom content-types</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/resources/pagination/">Paginating collections</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/resources/link-types/">Using link-types in relations</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/resources/asynchroneous-operations/">Asynchronous operations</a></li>
                        </ul>
                    </li>
                    
                
                    <li class="topic-header"><b>miscellaneous</b> (3)</li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/miscellaneous/richardsonmaturitymodel/">What is the Richardson Maturity Model?</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/miscellaneous/rest-and-http/">Are REST and HTTP the same thing?</a></li>
                        </ul>
                    </li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/miscellaneous/rest-presentations/">Where to find REST presentations</a></li>
                        </ul>
                    </li>
                    
                
                    <li class="topic-header"><b>http headers</b> (1)</li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/http%20headers/acceptlanguage/">Unsatisfied Accept-Language header</a></li>
                        </ul>
                    </li>
                    
                
                    <li class="topic-header"><b>mediatypes</b> (1)</li>
                    
                    <li>
                        <ul class='subnavlist'>
                            <li class='recipe'><a href="/mediatypes/json/">Is my API RESTful when I use JSON?</a></li>
                        </ul>
                    </li>
                    
                

            </ul>
        </div>


        <div class="container">
            <div class="span-16 last">
                &nbsp;
            </div>
            <div class="span-15">
                <div class="span-16 last" id="bodycontent">

                    <p class="question">When should we use PUT and when should we use POST?</p>

<p>The HTTP methods <span class="http_method">POST</span> and <span class="http_method">PUT</span> aren't the HTTP equivalent of the CRUD's create and update. They both serve a
    different purpose. It's quite possible, valid and even preferred in some occasions, to use <span class="http_method">POST</span> to create resources,
    or use <span class="http_method">PUT</span> to update resources.</p>

<p>Use <span class="http_method">PUT</span> when you can update a resource completely through a specific resource. For instance, if you know that an
    article resides at http://example.org/article/1234, you can <span class="http_method">PUT</span> a new resource representation of this article
    directly through a <span class="http_method">PUT</span> on this URL.</p>

<p>If you do not know the actual resource location, for instance, when you add a new article, but do not have any idea
    where to store it, you can <span class="http_method">POST</span> it to an URL, and let the server decide the actual URL.</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">PUT /article/1234 HTTP/1.1
<span class="nt">&lt;article&gt;</span>
    <span class="nt">&lt;title&gt;</span>red stapler<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;price</span> <span class="na">currency=</span><span class="s">&quot;eur&quot;</span><span class="nt">&gt;</span>12.50<span class="nt">&lt;/price&gt;</span>
<span class="nt">&lt;/article&gt;</span></code></pre></div>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">POST /articles HTTP/1.1
<span class="nt">&lt;article&gt;</span>
    <span class="nt">&lt;title&gt;</span>blue stapler<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;price</span> <span class="na">currency=</span><span class="s">&quot;eur&quot;</span><span class="nt">&gt;</span>7.50<span class="nt">&lt;/price&gt;</span>
<span class="nt">&lt;/article&gt;</span>

HTTP/1.1 201 Created
Location: /articles/63636</code></pre></div>

<p>As soon as you know the new resource location, you can use <span class="http_method">PUT</span> again to do updates to the blue stapler article. But
    as said before: you CAN add new resources through <span class="http_method">PUT</span> as well. The next example is perfectly valid if your API
    provides this functionality:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">PUT /articles/green-stapler HTTP/1.1
<span class="nt">&lt;article&gt;</span>
    <span class="nt">&lt;title&gt;</span>green stapler<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;price</span> <span class="na">currency=</span><span class="s">&quot;eur&quot;</span><span class="nt">&gt;</span>9.95<span class="nt">&lt;/price&gt;</span>
<span class="nt">&lt;/article&gt;</span>

HTTP/1.1 201 Created
Location: /articles/green-stapler</code></pre></div>

<p>Here, the client decided on the actual resource URL.</p>



<h3>Caveats</h3>
<ul>
    <li><span class="http_method">PUT</span> and <span class="http_method">POST</span> are both unsafe methods. However, <span class="http_method">PUT</span> is idempotent, while <span class="http_method">POST</span> is not.</li>
</ul>


<h3>See also</h3>
<ul>
    <li><a href="/HTTP%20Methods/idempotency">Idempotent and safe methods</a></li>
</ul>


<div style='margin: 3em'>
    <span class='st_facebook_hcount' title='Facebook'></span>
    <span class='st_twitter_hcount' title='Tweet'></span>
    <span class='st_linkedin_hcount' title='LinkedIn'></span>
    <span class='st_googleplus_hcount' title='Google +'></span>
    <span class='st_email_hcount' title='Email'></span>
    <br>
    <br>
    <hr>
    <div style='float:right'>
        <address>This recipe has been written by
        
            <a href="mailto://jthijssen@noxlogic.nl">joshua thijssen</a>.
        
        </address>
    </div>
    <br>
</div>



                </div>
            </div>
        </div>


        <div id="footerstrip">
            <div class="container">
                <div class="span-24 last" id="footer">
                    Copyright 2012 <a href="http://www.adayinthelifeof.nl/">Joshua Thijssen</a> and others. Like to contribute? Add your recipe to our <a href="http://github.com/restcookbook/restcookbook">github repository</a>.<br>
                    Looking for Puppet recipies? Try the <a href="http://www.puppetcookbook.com">Puppet CookBook</a>.
                </div>
            </div>
        </div>

    </body>
</html>

